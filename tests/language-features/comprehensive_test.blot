// Test comprehensive functionality including |> operators
numbers = [1, 2, 3, 4, 5]

// Test basic |> operator
result1 = 10 |> x => x * 2
print("Basic with: {}", result1)

// Test multiple |> operators (the fixed case)
result2 = 5 |> x => x * 2 |> y => y + 10
print("Multiple with: {}", result2)

// Test element-wise with
result3 = numbers |> x => x * 3
print("Element-wise with: {}", result3)

// Test complex expressions without with
result4 = sum(...numbers) + 10 * 2
print("Complex expression: {}", result4)

// Test record
person = { name: "Alice", age: 30 }
print("Record: {}", person)

// Test function call
doubled = map(numbers, x => x * 2)
print("Map result: {}", doubled)