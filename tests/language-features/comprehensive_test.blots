// Test comprehensive functionality including map operators
numbers = [1, 2, 3, 4, 5]

// Test basic map operator
result1 = 10 map x => x * 2
print("Basic with: {}", result1)

// Test multiple map operators (the fixed case)
result2 = 5 map x => x * 2 map y => y + 10
print("Multiple with: {}", result2)

// Test element-wise with
result3 = numbers map x => x * 3
print("Element-wise with: {}", result3)

// Test complex expressions without with
result4 = sum(...numbers) + 10 * 2
print("Complex expression: {}", result4)

// Test record
person = { name: "Alice", age: 30 }
print("Record: {}", person)

// Test function call
doubled = map(numbers, x => x * 2)
print("Map result: {}", doubled)